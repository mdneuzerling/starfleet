prometheusOperator:
  admissionWebhooks:
    enabled: false
  tls:
    enabled: false
  tlsProxy:
    enabled: false

prometheus:  
  prometheusSpec:
    ## How long to retain metrics
    ##
    retention: 10d

    ## Maximum size of metrics
    ##
    retentionSize: ""
    resources: {}
    # requests:
    #   memory: 400Mi

    ## The remote_read spec configuration for Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotereadspec
    remoteRead: 
      - url: "http://influxdb.default.svc.cluster.local:8086/api/v1/prom/read?db=prometheus"

    ## The remote_write spec configuration for Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotewritespec
    remoteWrite: 
      - url: "http://influxdb.default.svc.cluster.local:8086/api/v1/prom/write?db=prometheus"
      
    ## AdditionalScrapeConfigs allows specifying additional Prometheus scrape configurations. Scrape configurations
    ## are appended to the configurations generated by the Prometheus Operator. Job configurations must have the form
    ## as specified in the official Prometheus documentation:
    ## https://prometheus.io/docs/prometheus/latest/configuration/configuration/#scrape_config. As scrape configs are
    ## appended, the user is responsible to make sure it is valid. Note that using this feature may expose the possibility
    ## to break upgrades of Prometheus. It is advised to review Prometheus release notes to ensure that no incompatible
    ## scrape configs are going to break Prometheus after the upgrade.
    ##
    ## The scrape configuration example below will find master nodes, provided they have the name .*mst.*, relabel the
    ## port to 2379 and allow etcd scraping provided it is running on all Kubernetes master nodes
    ##
    additionalScrapeConfigs:
      - job_name: "environment"
        scrape_interval: 5s
        static_configs:
        - targets: ["192.168.1.149:80"] 
      
    ## Prometheus StorageSpec for persistent data
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
    ##
    storageSpec: {}
    #   volumeClaimTemplate:
    #     spec:
    #       storageClassName: local-storage
    #       accessModes: ["ReadWriteOnce"]
    #       resources:
    #         requests:
    #           storage: 50Gi
    #     selector: {}

    grafana:
      enabled: true
      namespaceOverride: ""
    
      ## Deploy default dashboards.
      ##
      defaultDashboardsEnabled: true
    
      adminPassword: prom-operator
    
      sidecar:
        dashboards:
          enabled: true
          label: grafana_dashboard
    
          ## Annotations for Grafana dashboard configmaps
          ##
          annotations: {}
        datasources:
          enabled: true
          defaultDatasourceEnabled: true
      additionalDataSources: 
        - name: influxdb
          type: influxdb
          access: server
          url: http://influxdb.default.svc.cluster.local:8086
          # basicAuth: true
          # basicAuthPassword: pass
          # basicAuthUser: daco
          editable: true
          jsonData:
              tlsSkipVerify: true
    
