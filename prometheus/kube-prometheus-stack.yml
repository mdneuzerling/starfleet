prometheusOperator:
  admissionWebhooks:
    enabled: false
  tlsProxy:
    enabled: false

prometheus:  
  prometheusSpec:
    ## How long to retain metrics
    ##
    retention: 10d

    ## Maximum size of metrics
    ##
    retentionSize: ""
    resources: {}
    # requests:
    #   memory: 400Mi

    ## The remote_read spec configuration for Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotereadspec
    remoteRead: 
      - url: "http://influxdb.default.svc.cluster.local/api/v1/prom/read?db=prometheus"

    ## The remote_write spec configuration for Prometheus.
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/api.md#remotewritespec
    remoteWrite: 
      - url: "http://influxdb.default.svc.cluster.local/api/v1/prom/write?db=prometheus"

    ## Prometheus StorageSpec for persistent data
    ## ref: https://github.com/prometheus-operator/prometheus-operator/blob/master/Documentation/user-guides/storage.md
    ##
    storageSpec: {}
    #   volumeClaimTemplate:
    #     spec:
    #       storageClassName: local-storage
    #       accessModes: ["ReadWriteOnce"]
    #       resources:
    #         requests:
    #           storage: 50Gi
    #     selector: {}

    grafana:
      enabled: true
      namespaceOverride: ""
    
      ## Deploy default dashboards.
      ##
      defaultDashboardsEnabled: true
    
      adminPassword: prom-operator
    
      ingress:
        ## If true, Grafana Ingress will be created
        ##
        enabled: false
    
        ## Annotations for Grafana Ingress
        ##
        annotations: {}
          # kubernetes.io/ingress.class: nginx
          # kubernetes.io/tls-acme: "true"
    
        ## Labels to be added to the Ingress
        ##
        labels: {}
    
        ## Hostnames.
        ## Must be provided if Ingress is enable.
        ##
        # hosts:
        #   - grafana.domain.com
        hosts: []
    
        ## Path for grafana ingress
        path: /
    
        ## TLS configuration for grafana Ingress
        ## Secret must be manually created in the namespace
        ##
        tls: []
        # - secretName: grafana-general-tls
        #   hosts:
        #   - grafana.example.com
    
      sidecar:
        dashboards:
          enabled: true
          label: grafana_dashboard
    
          ## Annotations for Grafana dashboard configmaps
          ##
          annotations: {}
        datasources:
          enabled: true
          defaultDatasourceEnabled: false
      additionalDataSources: 
        - name: influxdb
          type: influxdb
          access: proxy
          url: https://influxdb.default.svc.cluster.local:8086
          # basicAuth: true
          # basicAuthPassword: pass
          # basicAuthUser: daco
          editable: true
          jsonData:
              tlsSkipVerify: true
    